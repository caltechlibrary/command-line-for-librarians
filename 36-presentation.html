<!DOCTYPE html>
<html>
<head>
   <link href="css/slides.css" rel="stylesheet" />
</head>
<body>
   <nav>
<a id="start-slide" rel="nav" href="00-presentation.html" title="Return to start of presentation">Start</a>
<a id="prev-slide" rel="nav" href="35-presentation.html" title="Previous slide">Prev</a>
<a id="next-slide" rel="nav" href="37-presentation.html" title="Next slide">Next</a>
   </nav>

   <section><h1>Our Next Story</h1>

<h2><em>jq</em> demo</h2>

<h3>What about adding more columns?</h3>

<p>After much more experimentation and looking closely at the <em>jq</em> <a href="https://stedolan.github.io/jq">documentation</a>
you can build up a list of filters that can transform your data. I found it easer to break things
up and pipe through different instances of <em>jq</em>.</p>

<pre><code class="language-shell">    jq '.[&quot;orcid-profile&quot;][&quot;orcid-activities&quot;][&quot;orcid-works&quot;][&quot;orcid-work&quot;][]' example.json |\
      jq '{workType: .[&quot;work-type&quot;], journalTitle: .[&quot;journal-title&quot;].value, id: .[&quot;work-external-identifiers&quot;][&quot;work-external-identifier&quot;][][&quot;work-external-identifier-id&quot;].value, idType: .[&quot;work-external-identifiers&quot;][&quot;work-external-identifier&quot;][][&quot;work-external-identifier-type&quot;]}' |\
        jq -r '. | [.workType, .journalTitle, .idType, .id] | join(&quot;,&quot;)' &gt; example.csv
</code></pre>

<p>See <a href="example.csv">example.csv</a></p>

<pre><code class="language-text">    JOURNAL_ARTICLE,,DOI,10.5062/F42R3PMS
    JOURNAL_ARTICLE,,EID,10.5062/F42R3PMS
    JOURNAL_ARTICLE,,DOI,2-s2.0-84858766300
    JOURNAL_ARTICLE,,EID,2-s2.0-84858766300
    JOURNAL_ARTICLE,Science &amp; Technology Libraries,DOI,10.1080/0194262x.2015.1135304
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    OTHER,Chemical Information for Chemists,DOI,10.1039/9781782620655-00206
    OTHER,Chemical Information for Chemists,ISBN,10.1039/9781782620655-00206
    OTHER,Chemical Information for Chemists,DOI,978-1-84973-551-3
    OTHER,Chemical Information for Chemists,ISBN,978-1-84973-551-3
    JOURNAL_ARTICLE,,DOI,10.5062/F42R3PMS
    JOURNAL_ARTICLE,,EID,10.5062/F42R3PMS
    JOURNAL_ARTICLE,,DOI,2-s2.0-84858766300
    JOURNAL_ARTICLE,,EID,2-s2.0-84858766300
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    JOURNAL_ARTICLE,Abstracts of Papers of the American Chemical Society,ISSN,0065-7727
    CONFERENCE_PAPER,,EID,2-s2.0-2442514124
</code></pre>

<p>This is OK but sometimes it is easier todo this type of transformation in tools like OpenRefine.</p>
</section>

   <footer>
   </footer>
   <script type="text/javascript" src="js/keyboard-nav.js"></script>
</body>
</html>
